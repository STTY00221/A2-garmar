import React, { useState } from 'react';
import { 
  Users, 
  Clock, 
  FileText, 
  ChevronRight, 
  ChevronDown, 
  BookOpen 
} from 'lucide-react';

const Menu = () => {
  const [openMenu, setOpenMenu] = useState('');

  const mainMenuItems = [
    {
      id: 'subject',
      title: 'คำถามแบบประธาน',
      icon: <Users className="w-4 h-4" />,
      submenu: [
        { id: 'who', title: 'Who เป็นประธาน' },
        { id: 'what', title: 'What เป็นประธาน' },
        { id: 'which', title: 'Which เป็นประธาน' }
      ]
    },
    {
      id: 'tenses',
      title: 'เรื่องของ Tenses',
      icon: <Clock className="w-4 h-4" />,
      submenu: [
        { id: 'present', title: 'Present Tense' },
        { id: 'past', title: 'Past Tense' },
        { id: 'future', title: 'Future Tense' },
        { id: 'perfect', title: 'Perfect Tense' }
      ]
    },
    {
      id: 'sentences',
      title: 'คำสันธานและประโยคย่อย',
      icon: <FileText className="w-4 h-4" />,
      submenu: [
        { id: 'coordination', title: 'ประโยคความรวม' },
        { id: 'subordination', title: 'ประโยคความซ้อน' },
        { id: 'relative', title: 'ประโยคย่อย Relative' }
      ]
    }
  ];

  const handleMenuClick = (menuId) => {
    setOpenMenu(openMenu === menuId ? '' : menuId);
  };

  return (
    <div className="w-64 bg-white shadow-lg rounded-lg p-4">
      {/* Header */}
      <div className="mb-6">
        <div className="flex items-center space-x-2 mb-2">
          <BookOpen className="w-5 h-5 text-blue-600" />
          <h2 className="text-lg font-semibold text-gray-800">บทเรียนไวยากรณ์</h2>
        </div>
        <div className="h-0.5 bg-gray-100"></div>
      </div>

      {/* Menu Items */}
      <div className="space-y-2">
        {mainMenuItems.map((item) => (
          <div key={item.id} className="rounded-md overflow-hidden">
            {/* Main Menu Button */}
            <button
              onClick={() => handleMenuClick(item.id)}
              className={`w-full flex items-center justify-between p-3 text-left transition-colors
                ${openMenu === item.id 
                  ? 'bg-blue-50 text-blue-600' 
                  : 'hover:bg-gray-50 text-gray-700'}`}
            >
              <div className="flex items-center space-x-3">
                {item.icon}
                <span className="font-medium">{item.title}</span>
              </div>
              {openMenu === item.id 
                ? <ChevronDown className="w-4 h-4" />
                : <ChevronRight className="w-4 h-4" />
              }
            </button>

            {/* Submenu */}
            {openMenu === item.id && (
              <div className="bg-gray-50 pl-6">
                {item.submenu.map((subItem) => (
                  <button
                    key={subItem.id}
                    className="w-full text-left py-2 px-4 text-sm text-gray-600 hover:bg-gray-100 hover:text-blue-600 transition-colors"
                  >
                    {subItem.title}
                  </button>
                ))}
              </div>
            )}
          </div>
        ))}
      </div>

      {/* Footer */}
      <div className="mt-6 pt-4 border-t border-gray-100">
        <p className="text-xs text-gray-500 text-center">
          Grammar Lesson A2 Level
        </p>
      </div>
    </div>
  );
};

// Example of how to use the Menu component
const GrammarApp = () => {
  return (
    <div className="min-h-screen bg-gray-100 p-8">
      <div className="max-w-7xl mx-auto">
        <div className="flex">
          <Menu />
          <div className="flex-1 ml-8 bg-white rounded-lg shadow-lg p-6">
            {/* Content will be rendered here */}
            <h1 className="text-2xl font-bold text-gray-800">
              เลือกบทเรียนจากเมนูด้านซ้าย
            </h1>
          </div>
        </div>
      </div>
    </div>
  );
};

export default GrammarApp;
