import React, { useState } from 'react';
import { Users, Clock, Link, FileText, GitBranch } from 'lucide-react';

// Card Components
const LessonCard = ({ title, description, examples = [] }) => {
  return (
    <div className="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
      <h3 className="text-lg font-semibold text-blue-600 mb-3">{title}</h3>
      <p className="text-gray-600 mb-4">{description}</p>
      {examples.length > 0 && (
        <div className="space-y-2">
          <h4 className="font-medium text-gray-700">ตัวอย่าง:</h4>
          <ul className="list-disc list-inside space-y-1">
            {examples.map((example, idx) => (
              <li key={idx} className="text-gray-600">
                <span className="text-blue-500">{example.eng}</span>
                <span className="text-gray-500"> - {example.th}</span>
              </li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
};

const RuleCard = ({ title, rules = [] }) => {
  return (
    <div className="bg-white p-6 rounded-lg shadow-md">
      <h3 className="text-lg font-semibold text-blue-600 mb-3">{title}</h3>
      <ul className="list-disc list-inside space-y-2">
        {rules.map((rule, idx) => (
          <li key={idx} className="text-gray-600">{rule}</li>
        ))}
      </ul>
    </div>
  );
};

// Main Component
const GrammarLesson = () => {
  const [activeTab, setActiveTab] = useState('subject');

  const menuItems = [
    { id: 'subject', title: 'คำถามแบบประธาน', icon: <Users className="w-4 h-4" /> },
    { id: 'tenses', title: 'เรื่องของ Tenses', icon: <Clock className="w-4 h-4" /> },
    { id: 'conjunctions', title: 'คำสันธานและประโยคย่อย', icon: <Link className="w-4 h-4" /> },
    { id: 'articles', title: 'บทความและสรรพนาม', icon: <FileText className="w-4 h-4" /> },
    { id: 'conditionals', title: 'เงื่อนไข', icon: <GitBranch className="w-4 h-4" /> }
  ];

  const renderContent = () => {
    switch (activeTab) {
      case 'subject':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold text-blue-600">คำถามแบบประธาน</h2>
            <div className="bg-blue-50 p-4 rounded-lg mb-6">
              <h3 className="font-semibold mb-2">โครงสร้างพิเศษ:</h3>
              <p className="text-blue-600">Question Word (เป็นประธาน) + Main Verb + (Rest)?</p>
            </div>
            <div className="grid grid-cols-1 gap-6">
              <LessonCard
                title="Who เป็นประธาน"
                description="เมื่อผู้กระทำคือสิ่งที่เราต้องการถาม"
                examples={[
                  { eng: "Who wants ice cream?", th: "ใครต้องการไอศกรีม" },
                  { eng: "Who lives next door?", th: "ใครอาศัยอยู่บ้านข้างๆ" },
                  { eng: "Who speaks English?", th: "ใครพูดภาษาอังกฤษได้" }
                ]}
              />
              <LessonCard
                title="What เป็นประธาน"
                description="เมื่อสิ่งของหรือเหตุการณ์เป็นประธาน"
                examples={[
                  { eng: "What happened yesterday?", th: "อะไรเกิดขึ้นเมื่อวาน" },
                  { eng: "What caused the accident?", th: "อะไรทำให้เกิดอุบัติเหตุ" },
                  { eng: "What makes you happy?", th: "อะไรทำให้คุณมีความสุข" }
                ]}
              />
              <RuleCard
                title="กฎการใช้คำถามประธาน"
                rules={[
                  "ไม่ต้องใช้ Helping Verb (do, does, did)",
                  "กริยาต้องเปลี่ยนรูปตามประธาน",
                  "สามารถใช้ได้กับทุก Tense",
                  "คำตอบต้องเป็นคนหรือสิ่งของที่ทำหน้าที่เป็นประธาน"
                ]}
              />
            </div>
          </div>
        );

      case 'tenses':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold text-blue-600">เรื่องของ Tenses</h2>
            <div className="grid grid-cols-1 gap-6">
              <LessonCard
                title="Present Simple"
                description="ใช้กับเหตุการณ์ที่เป็นความจริงทั่วไป หรือการกระทำที่ทำเป็นประจำ"
                examples={[
                  { eng: "I go to school every day.", th: "ฉันไปโรงเรียนทุกวัน" },
                  { eng: "The sun rises in the east.", th: "พระอาทิตย์ขึ้นทางทิศตะวันออก" },
                  { eng: "She works at a bank.", th: "เธอทำงานที่ธนาคาร" }
                ]}
              />
              <LessonCard
                title="Present Continuous"
                description="ใช้กับเหตุการณ์ที่กำลังเกิดขึ้นในขณะที่พูด"
                examples={[
                  { eng: "I am studying now.", th: "ฉันกำลังเรียนอยู่" },
                  { eng: "They are playing football.", th: "พวกเขากำลังเล่นฟุตบอล" },
                  { eng: "It is raining.", th: "ฝนกำลังตก" }
                ]}
              />
            </div>
          </div>
        );

      case 'conjunctions':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold text-blue-600">คำสันธานและประโยคย่อย</h2>
            <div className="grid grid-cols-1 gap-6">
              <LessonCard
                title="คำสันธานเชื่อมความ (Coordinating Conjunctions)"
                description="ใช้เชื่อมประโยคที่มีความสำคัญเท่ากัน"
                examples={[
                  { eng: "I like tea and coffee.", th: "ฉันชอบชาและกาแฟ" },
                  { eng: "She was tired but happy.", th: "เธอเหนื่อยแต่มีความสุข" },
                  { eng: "He can't swim or drive.", th: "เขาว่ายน้ำไม่เป็นหรือขับรถไม่ได้" }
                ]}
              />
              <RuleCard
                title="กฎการใช้คำสันธาน"
                rules={[
                  "and ใช้เชื่อมความคล้อยตามกัน",
                  "but ใช้เชื่อมความขัดแย้ง",
                  "or ใช้เชื่อมตัวเลือก",
                  "so ใช้เชื่อมเหตุและผล"
                ]}
              />
            </div>
          </div>
        );

      case 'articles':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold text-blue-600">บทความและสรรพนาม</h2>
            <div className="grid grid-cols-1 gap-6">
              <LessonCard
                title="Articles (a, an, the)"
                description="ใช้นำหน้าคำนาม"
                examples={[
                  { eng: "I need a pen.", th: "ฉันต้องการปากกา (ทั่วไป)" },
                  { eng: "She is an engineer.", th: "เธอเป็นวิศวกร" },
                  { eng: "The sun is bright.", th: "ดวงอาทิตย์สว่าง (เฉพาะเจาะจง)" }
                ]}
              />
              <RuleCard
                title="กฎการใช้ Articles"
                rules={[
                  "a ใช้นำหน้าคำนามที่ขึ้นต้นด้วยเสียงพยัญชนะ",
                  "an ใช้นำหน้าคำนามที่ขึ้นต้นด้วยเสียงสระ",
                  "the ใช้เมื่อต้องการระบุเฉพาะเจาะจง"
                ]}
              />
            </div>
          </div>
        );

      case 'conditionals':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold text-blue-600">เงื่อนไข (Conditionals)</h2>
            <div className="grid grid-cols-1 gap-6">
              <LessonCard
                title="Zero Conditional"
                description="ใช้พูดถึงความจริงทั่วไปหรือสิ่งที่เกิดขึ้นเป็นประจำ"
                examples={[
                  { eng: "If you heat water, it boils.", th: "ถ้าคุณต้มน้ำ มันจะเดือด" },
                  { eng: "If it rains, the ground gets wet.", th: "ถ้าฝนตก พื้นจะเปียก" }
                ]}
              />
              <RuleCard
                title="โครงสร้าง Conditionals"
                rules={[
                  "Zero Conditional: If + Present Simple, Present Simple",
                  "First Conditional: If + Present Simple, Will + V1",
                  "Second Conditional: If + Past Simple, Would + V1",
                  "Third Conditional: If + Past Perfect, Would have + V3"
                ]}
              />
            </div>
          </div>
        );

      default:
        return null;
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <div className="max-w-7xl mx-auto px-4 py-8">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div className="space-y-2">
            {menuItems.map((item) => (
              <button
                key={item.id}
                onClick={() => setActiveTab(item.id)}
                className={`w-full px-4 py-2 rounded-lg flex items-center space-x-2 ${
                  activeTab === item.id ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'
                }`}
              >
                {item.icon}
                <span>{item.title}</span>
              </button>
            ))}
          </div>
          <div className="md:col-span-3">
            {renderContent()}
          </div>
        </div>
      </div>
    </div>
  );
};

export default GrammarLesson;
